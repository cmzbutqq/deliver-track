# 课题一：电商物流配送可视化平台

## 课题名称
电商物流配送可视化平台

## 课题要求
基于 React、Node.js、TypeScript 以及地图服务等技术栈，构建一个覆盖商家、用户、后端服务三端的全栈项目。项目需实现物流配送场景的业务闭环，并重点突出前端在数据可视化与实时交互方面的复杂度和价值。

## 任务拆解

### 工程架构
* **前后端分离：** 采用前后端分离的架构，前端使用 React 或类似框架，后端使用 Node.js 提供 API 服务。
* **代码仓库：** 项目整体代码存放于单一 Git 仓库，方便管理和协同。
* **编码规范：** 集成 ESLint, Prettier, Husky 等工具，确保代码风格统一和质量。
* **结构清晰：** 要求代码分层合理，模块化清晰，具备良好的可读性和可维护性。

## 核心功能

> 💡 **核心闭环：** 商家创建订单 -> 模拟发货 -> 后端生成轨迹 -> 用户实时追踪 -> 确认收货

### 商家端
* **订单管理仪表盘：**
    * 实现订单列表的展示，支持按状态（如待发货、运输中、已完成）进行筛选。
    * 支持按订单创建时间、金额等字段进行排序。
* **订单详情：** 点击订单可查看收货人信息、商品详情及当前的物流状态。
* **模拟发货：**
    * 提供“发货”操作按钮，点击后调用后端 API，将订单状态变更为“运输中”。
    * 后端接收到请求后，开始模拟生成该订单的配送轨迹数据。
* **配送管理：**
    * 提供“配送范围”圈选能力，商家可拖拽地图实时修改配送区域，区域内的订单支持筛选，并显示订单的可配送状态。
    * 设置对应的配送时效，针对不同的物流公司模拟不同的时效，基于时效进行筛选可送达的订单。

### 用户端
* **物流查询：** 提供一个输入框，用户可以通过订单号查询包裹的实时物流信息。
* **地图实时追踪：**
    * 查询成功后，在地图上展示包裹的当前位置和预计送达时间。
    * 地图上的车辆图标需要根据后端推送的实时坐标数据进行移动，并平滑地展示动画效果。
* **物流时间线：**
    * 在地图下方或侧边，以时间轴的形式展示物流状态的变更历史（例如：已揽收、运输中、派送中、已签收）。

### 后端服务
* **RESTful API：**
    * 提供稳定的订单管理 API，支持商家端的增、删、改、查需求。
    * 提供物流信息查询 API，供用户端调用。
* **WebSocket 实时通信：**
    * 使用 WebSocket 或类似技术，向用户端实时推送包裹的最新 GPS 坐标。
* **轨迹模拟：**
    * 为已发货的订单，在后台模拟生成一条合理的配送路线和 GPS 轨迹点，并按时间间隔推送。

### 用户体验与前端挑战
* **地图性能优化：** 在地图上渲染大量订单或复杂的配送路线时，需要保证页面的流畅性和响应速度。
* **实时数据同步：** 如何优雅地处理 WebSocket 推送的大量实时数据，并确保地图动画的平滑连续，是前端的一大挑战。
* **交互设计：** 设计直观、易用的查询界面和物流时间线，提升用户的信息获取效率。
* **多端适配：** （可选）考虑移动端用户的查询体验，进行响应式布局设计。

## 加分项

### 物流数据可视化看板
* 设计一个独立的数据看板页面。
* 使用 ECharts、D3.js 或其他图表库，对平台内的物流数据进行可视化分析。
* **可展示维度：**
    * **区域订单密度热力图：** 在地图上展示不同区域的订单分布情况。
    * **配送时效分析：** 统计平均配送时长，并以条形图或折线图展示。
    * **异常订单监控：** 实时展示配送超时或出现异常的订单。

### 智能路线规划
* 集成高德地图、百度地图或 Google Maps 的路线规划 API。
* **基础功能：**
    * 在商家发货时，可以根据起点和终点，为配送员规划一条或多条建议路线。
* **进阶挑战：**
    * 模拟多点配送场景，实现一次性为多个订单规划最优路径。
    * 考虑实时路况，动态调整规划路线。

## FAQ

1.  **技术栈必须严格遵守吗？**
    * 核心技术栈（React、Node.js、TypeScript）建议保持一致，但具体的 UI 库（如 Ant Design, Material-UI）、地图服务商（高德、百度）以及图表库（ECharts, D3.js）可以自由选择，鼓励探索和使用你认为更合适的工具。

2.  **后端轨迹模拟如何实现？**
    * 你可以预设几条固定的路线轨迹（一系列经纬度坐标点），当有新的发货请求时，随机选择一条路线，并按时间间隔逐步推送坐标点。也可以结合地图 API 的路线规划功能，生成更真实的轨迹数据。

3.  **地图动画如何做到平滑？**
    * 前端接收到新的坐标点后，不应直接“瞬移”车辆图标，而应使用 `requestAnimationFrame` 或 CSS Transitions/Animations 来实现平滑的移动动画，计算两次坐标之间的插值，让过渡更自然。

4.  **数据可视化看板是必须的吗？**
    * 这是加分项，但强烈推荐完成。它能极大地提升项目的完整度和技术深度，是展示你前端数据处理和可视化能力的关键。

5.  **可以组队吗？**
    * 鼓励 2-3 人组队协作。建议分工明确，例如可以有同学专注于后端 API 和数据模拟，有同学负责商家端和用户端的业务逻辑，有同学主攻地图可视化和交互体验。